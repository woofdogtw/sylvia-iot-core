<!DOCTYPE HTML>
<html lang="zh-TW" class="rust" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>æ¶æ§‹ - Sylvia-IoT èªªæ˜æ–‡ä»¶</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('rust')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> ä»‹ç´¹</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../intro/overview.html"><strong aria-hidden="true">1.1.</strong> ä»€éº¼æ˜¯ Sylvia-IoTï¼Ÿ</a></li><li class="chapter-item expanded "><a href="../intro/concept.html"><strong aria-hidden="true">1.2.</strong> æ¦‚å¿µ</a></li></ol></li><li class="chapter-item expanded "><a href="../guide/index.html"><strong aria-hidden="true">2.</strong> ä½¿ç”¨æŒ‡å—</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../guide/quick.html"><strong aria-hidden="true">2.1.</strong> å¿«é€Ÿé–‹å§‹</a></li><li class="chapter-item expanded "><a href="../guide/configuration.html"><strong aria-hidden="true">2.2.</strong> è¨­å®šæª”</a></li></ol></li><li class="chapter-item expanded "><a href="../arch/index.html"><strong aria-hidden="true">3.</strong> å…§éƒ¨æ¶æ§‹</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../arch/arch.html" class="active"><strong aria-hidden="true">3.1.</strong> æ¶æ§‹</a></li><li class="chapter-item expanded "><a href="../arch/flow.html"><strong aria-hidden="true">3.2.</strong> è³‡æ–™æµ</a></li><li class="chapter-item expanded "><a href="../arch/cache.html"><strong aria-hidden="true">3.3.</strong> å¿«å–</a></li></ol></li><li class="chapter-item expanded "><a href="../dev/index.html"><strong aria-hidden="true">4.</strong> é–‹ç™¼æŒ‡å—</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/oauth2.html"><strong aria-hidden="true">4.1.</strong> OAuth2 èªè­‰</a></li><li class="chapter-item expanded "><a href="../dev/network.html"><strong aria-hidden="true">4.2.</strong> ç¶²è·¯æœå‹™</a></li><li class="chapter-item expanded "><a href="../dev/application.html"><strong aria-hidden="true">4.3.</strong> æ‡‰ç”¨æœå‹™</a></li><li class="chapter-item expanded "><a href="../dev/core.html"><strong aria-hidden="true">4.4.</strong> Sylvia-IoT æ ¸å¿ƒ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/dir.html"><strong aria-hidden="true">4.4.1.</strong> ç›®éŒ„çµæ§‹</a></li><li class="chapter-item expanded "><a href="../dev/style.html"><strong aria-hidden="true">4.4.2.</strong> ç¨‹å¼ç¢¼é¢¨æ ¼</a></li><li class="chapter-item expanded "><a href="../dev/testing.html"><strong aria-hidden="true">4.4.3.</strong> æ’°å¯«æ¸¬è©¦</a></li></ol></li><li class="chapter-item expanded "><a href="../dev/cross.html"><strong aria-hidden="true">4.5.</strong> è·¨å¹³å°ç·¨è­¯</a></li></ol></li><li class="chapter-item expanded "><a href="../appendex/index.html"><strong aria-hidden="true">5.</strong> é™„éŒ„</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../appendex/source.html"><strong aria-hidden="true">5.1.</strong> è³‡æ–™ä¾†æº</a></li><li class="chapter-item expanded "><a href="../appendex/repo.html"><strong aria-hidden="true">5.2.</strong> è¼”åŠ©å°ˆæ¡ˆ</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Sylvia-IoT èªªæ˜æ–‡ä»¶</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="æ¶æ§‹"><a class="header" href="#æ¶æ§‹">æ¶æ§‹</a></h1>
<p><img src="arch.svg" alt="Architecture" /></p>
<p>ä¸Šé¢æ˜¯ Sylvia-IoT å…ƒä»¶çš„ç¤ºæ„åœ–ã€‚é€™ç« ç¯€æˆ‘å€‘å°‡é€ä¸€è§£é‡‹ã€‚</p>
<h2 id="sylvia-iot-æ ¸å¿ƒå…ƒä»¶"><a class="header" href="#sylvia-iot-æ ¸å¿ƒå…ƒä»¶">Sylvia-IoT æ ¸å¿ƒå…ƒä»¶</a></h2>
<p>ç°¡ç¨± ABCDï¼ˆç¬‘ ğŸ˜Šï¼‰</p>
<h3 id="auth-sylvia-iot-auth"><a class="header" href="#auth-sylvia-iot-auth">Auth (sylvia-iot-auth)</a></h3>
<ul>
<li>ç”¨é€”
<ul>
<li>ç‚º HTTP API æä¾›ä»¤ç‰Œï¼ˆaccess tokenï¼‰çš„åˆæ³•æ€§å’Œè³‡è¨Šï¼Œè®“ API å¯ä»¥æ±ºå®šæ˜¯å¦æˆæ¬Šæ­¤ä»¤ç‰Œå­˜å–ã€‚</li>
<li>æä¾› OAuth2 çš„æˆæ¬Šæ©Ÿåˆ¶ï¼Œç›®å‰æ”¯æ´ä¸‹åˆ—æµç¨‹ï¼š
<ul>
<li>Authorization code grant flow
<ul>
<li>å®¢æˆ¶ç«¯éœ€ä½¿ç”¨ webview é¡¯ç¤ºç™»å…¥å’Œæˆæ¬Šé é¢ã€‚</li>
<li>ç›®å‰ coremgr CLI ä½¿ç”¨æ­¤æµç¨‹ã€‚</li>
</ul>
</li>
<li>Client credentials grant flow
<ul>
<li>ç›®å‰ä¿ç•™æ­¤åŠŸèƒ½ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>ç®¡ç†çš„å¯¦é«”
<ul>
<li>ä½¿ç”¨è€…å¸³è™Ÿ
<ul>
<li>ä½¿ç”¨è€…åŸºæœ¬è³‡æ–™ã€‚</li>
<li>æ¬Šé™ï¼ˆroleï¼‰ã€‚</li>
</ul>
</li>
<li>å®¢æˆ¶ç«¯
<ul>
<li>HTTP API çš„å­˜å–æ¬Šé™ï¼ˆscopeï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>ç›¸ä¾æ€§
<ul>
<li>ç„¡ã€‚å¯ç¨ç«‹é‹ä½œã€‚</li>
</ul>
</li>
</ul>
<h3 id="broker-sylvia-iot-broker"><a class="header" href="#broker-sylvia-iot-broker">Broker (sylvia-iot-broker)</a></h3>
<ul>
<li>ç”¨é€”
<ul>
<li>ç®¡ç†å’Œè£ç½®ç›¸é—œçš„å¯¦é«”ã€‚</li>
<li>ç¶å®šè£ç½®å’Œæ‡‰ç”¨ã€è½‰ç™¼è£ç½®è³‡æ–™çµ¦æ‡‰ç”¨ï¼Œæˆ–æ˜¯æ¥æ”¶æ‡‰ç”¨ç™¼å‡ºçš„è³‡æ–™çµ¦è£ç½®ã€‚</li>
<li>ï¼ˆå¯é¸ï¼‰å°‡æµç¶“çš„ç¶²è·¯ã€æ‡‰ç”¨è³‡æ–™å…¨éƒ¨é€éè³‡æ–™é€šé“ï¼ˆdata channelï¼‰é€çµ¦ <strong>Data æœå‹™</strong> å„²å­˜æˆ–åˆ†æã€‚</li>
</ul>
</li>
<li>ç®¡ç†çš„å¯¦é«”
<ul>
<li>å–®ä½
<ul>
<li>ç”±ä¸€å€‹æ“æœ‰è€…å’Œå¤šå€‹æˆå“¡çµ„æˆã€‚</li>
<li>å¯ä»¥ç¨ç«‹ç®¡ç†è£ç½®ã€æ‡‰ç”¨ã€ç¶²è·¯ã€è·¯ç”±ï¼ˆç¶å®šï¼‰è¦å‰‡ã€‚</li>
</ul>
</li>
<li>æ‡‰ç”¨
<ul>
<li>è§£æè£ç½®è³‡æ–™ä¸¦ä¾æ“šéœ€æ±‚åˆ†ææ•¸æ“šå’Œå‘ˆç¾çµæœã€‚</li>
</ul>
</li>
<li>ç¶²è·¯
<ul>
<li>å¯ä»¥ä½¿ç”¨ç›´æ¥èˆ‡ Sylvia-IoT ä»‹é¢é€£æ¥çš„æœå‹™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€£æ¥å™¨ï¼ˆadapterï¼‰å°‡ç›®å‰æ—¢æœ‰çš„ç¶²è·¯æœå‹™ï¼ˆå¦‚ <a href="https://www.thethingsnetwork.org/"><strong>The Things Network (TTN)</strong></a> æˆ–æ˜¯ <a href="https://www.chirpstack.io/"><strong>ChirpStack</strong></a> ç­‰ï¼‰é€£æ¥åˆ° Slvia-IoTã€‚</li>
<li>ä¸€å€‹ç¶²è·¯ä½å€å¯ä»¥ç”¨ä¾†å‚³è¼¸ä¸€å€‹è£ç½®çš„è³‡æ–™ã€‚</li>
<li>ç®¡ç†å“¡ï¼ˆadmin roleï¼‰å¯ä»¥å»ºç«‹å…¬ç”¨çš„ç¶²è·¯ã€‚</li>
</ul>
</li>
<li>è£ç½®
<ul>
<li>æ¯ä¸€å€‹è£ç½®è¡¨ç¤ºä¸€ç¨®çµ‚ç«¯çš„æ‡‰ç”¨ï¼Œæ¯”å¦‚è¿½è¹¤å™¨ã€é›»éŒ¶ã€æ„Ÿæ‡‰å™¨ç­‰ã€‚</li>
<li>è£ç½®éœ€ä¾é™„æ–¼ä¸€å€‹ç¶²è·¯ä¸‹çš„ç¶²è·¯ä½å€æ‰èƒ½å‚³è¼¸è³‡æ–™ã€‚
<ul>
<li>å¯ä»¥å°‡è£ç½®ä¾é™„æ–¼å…¬ç”¨ç¶²è·¯ä¸­ï¼Œä½†éœ€è¦é€éç®¡ç†å“¡å¸³è™Ÿï¼ˆadmin/manager rolesï¼‰æ‰èƒ½è¨­å®šã€‚</li>
<li>æ¯ä¸€å€‹è£ç½®æœ‰å”¯ä¸€çš„è­˜åˆ¥ç¢¼ï¼ˆdevice IDï¼‰ï¼Œæ‡‰ç”¨å¦‚æœä¾é çš„æ˜¯æ­¤è­˜åˆ¥ç¢¼ï¼Œå³ä½¿è®Šæ›´ç¶²è·¯å’Œä½å€ï¼Œéƒ½å¯ä»¥ç„¡éœ€è®Šæ›´æ‡‰ç”¨çš„ç®¡ç†ã€‚</li>
</ul>
</li>
<li>æ¯ä¸€å€‹è£ç½®å¯ä»¥ä¾æ“šè³‡æ–™å…§å®¹ï¼Œçµ¦å®šä¸€å€‹è£ç½®è¨­å®šæª”ï¼ˆprofileï¼‰ã€‚
<ul>
<li>é€é profileï¼Œæ‡‰ç”¨å°±å¯ä»¥å¿«é€Ÿè§£æè³‡æ–™è€Œç„¡éœ€å»ºç«‹è­˜åˆ¥ç¢¼çš„å°æ‡‰è¡¨äº†ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>è·¯ç”±è¦å‰‡
<ul>
<li>å°‡è£ç½®ç¶å®šåˆ°æ‡‰ç”¨ã€‚
<ul>
<li>å¯ä»¥å¤šå°å¤šã€‚</li>
</ul>
</li>
<li>å°‡ç¶²è·¯ç¶å®šåˆ°æ‡‰ç”¨ï¼Œæ‰€æœ‰è©²ç¶²è·¯ä¸‹çš„è£ç½®éƒ½æœƒè¢«è·¯ç”±ï¼Œäº¦å³ç„¡é ˆä¸€å°ä¸€å°ç¶å®šã€‚
<ul>
<li>å¯ä»¥å¤šå°å¤šã€‚</li>
<li>ä¸å¯ä»¥ç¶å®šå…¬ç”¨ç¶²è·¯ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>ç›¸ä¾æ€§
<ul>
<li>éœ€ä¾è³´ Auth æœå‹™</li>
</ul>
</li>
</ul>
<h3 id="coremgr-sylvia-iot-coremgr"><a class="header" href="#coremgr-sylvia-iot-coremgr">Coremgr (sylvia-iot-coremgr)</a></h3>
<ul>
<li>ç”¨é€”
<ul>
<li>coremgr å³ core managerï¼Œè² è²¬ç®¡ç† Sylvia-IoT æ ¸å¿ƒçš„å…ƒä»¶ã€‚</li>
<li>æä¾›ä¸»è¦çš„ HTTP API çµ¦å¤–éƒ¨ç›´æ¥å­˜å–ã€‚
<ul>
<li>Auth åƒ…é–‹æ”¾èªè­‰ï¼æˆæ¬Š APIã€‚ä½¿ç”¨è€…å’Œå®¢æˆ¶ç«¯ç®¡ç†ä»éœ€ä½¿ç”¨ coremgr APIã€‚</li>
<li>é€éæ©‹æ¥çš„æ–¹å¼é–“æ¥ä½¿ç”¨ Authã€Broker HTTP API ä¾†ç®¡ç†å„ç¨®å¯¦é«”ã€‚</li>
</ul>
</li>
<li>é€é management API è¨­å®š RabbitMQ/EMQX ç­‰è¨Šæ¯ä»£ç†ä¾†å»ºç«‹ä½‡åˆ—å’Œå°æ‡‰çš„æ¬Šé™ã€‚
<ul>
<li>Broker åªè² è²¬ç®¡ç†å¯¦é«”é–“çš„é—œè¯å’Œ AMQP/MQTT çš„é€£ç·šï¼Œå¯¦éš›çš„ RabbitMQ/EMQX çš„è¨­å®šæ˜¯é  coremgr é€²è¡Œè¨­å®šã€‚</li>
</ul>
</li>
<li>ï¼ˆå¯é¸ï¼‰å°‡æ“ä½œç´€éŒ„ï¼ŒåŒ…å«æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤ç­‰ï¼Œé€éè³‡æ–™é€šé“ï¼ˆdata channelï¼‰é€çµ¦ <strong>Data æœå‹™</strong> å„²å­˜æˆ–åˆ†æã€‚</li>
</ul>
</li>
<li>ç®¡ç†çš„å¯¦é«”
<ul>
<li>ï¼ˆç„¡ï¼‰</li>
</ul>
</li>
<li>ç›¸ä¾æ€§
<ul>
<li>éœ€ä¾è³´ Authã€Broker æœå‹™ã€‚</li>
<li>éœ€ä¾è³´è¨Šæ¯ä»£ç†çš„ management APIã€‚</li>
</ul>
</li>
</ul>
<h3 id="coremgr-cli-sylvia-iot-coremgr-cli"><a class="header" href="#coremgr-cli-sylvia-iot-coremgr-cli">Coremgr CLI (sylvia-iot-coremgr-cli)</a></h3>
<ul>
<li>ç”¨é€”
<ul>
<li>æä¾›å‘½ä»¤åˆ—ä»‹é¢ï¼ˆCLIï¼‰çµ¦ä½¿ç”¨è€…é€éæŒ‡ä»¤ä¾†è¨­å®š Sylvia-IoTã€‚</li>
</ul>
</li>
<li>ç›¸ä¾æ€§
<ul>
<li>éœ€ä¾è³´ Authã€Coremgr æœå‹™ã€‚Auth åƒ…ä½¿ç”¨èªè­‰ï¼æˆæ¬Šéƒ¨åˆ†ã€‚</li>
<li>å¯ä»¥ç›¸ä¾ Data æœå‹™ä¾†è®€å–æ­·å²è³‡æ–™ã€‚</li>
</ul>
</li>
</ul>
<h3 id="æ§åˆ¶é€šé“-control-channal-vs-è³‡æ–™é€šé“-data-channel"><a class="header" href="#æ§åˆ¶é€šé“-control-channal-vs-è³‡æ–™é€šé“-data-channel">æ§åˆ¶é€šé“ (Control Channal) vs. è³‡æ–™é€šé“ (Data Channel)</a></h3>
<ul>
<li>æ§åˆ¶é€šé“ç”¨ä¾†å‚³è¼¸å¯¦é«”ï¼ˆä½¿ç”¨è€…ã€å–®ä½ã€è£ç½®ç­‰ï¼‰ç®¡ç†çš„è¨Šæ¯ã€‚ä¸€èˆ¬åˆ†ç‚ºï¼š
<ul>
<li>Unicastï¼ˆå–®æ’­ï¼‰ï¼Œä¸€å€‹è¨Šæ¯åªæœ‰ä¸€å€‹æ¶ˆè²»è€…ï¼Œç”¨æ–¼ Sylvia-IoT æ¨é€è¨Šæ¯çµ¦ç¶²è·¯æˆ–æ‡‰ç”¨çš„æ™‚å€™ã€‚é€™å€‹æœƒåœ¨ç¨å¾Œçš„ <a href="./flow.html"><strong>è³‡æ–™æµ</strong></a> ç« ç¯€èªªæ˜ã€‚</li>
<li>Broadcastï¼ˆå»£æ’­ï¼‰ï¼Œç”¨ä¾†å»£æ’­çµ¦ Sylvia-IoT å¢é›†ä¸­çš„å„å€‹æ ¸å¿ƒç¨‹åºã€‚é€™å€‹æœƒåœ¨ç¨å¾Œçš„ <a href="./cache.html"><strong>å¿«å–</strong></a> ç« ç¯€èªªæ˜ã€‚</li>
</ul>
</li>
<li>è³‡æ–™é€šé“ç”¨ä¾†å‚³è¼¸è£ç½®è³‡æ–™æˆ–æ­·å²è³‡æ–™ã€‚
<ul>
<li>æ³›æŒ‡ Application Dataã€Network Dataã€Coremgr OP Dataã€‚</li>
<li>ç›®å‰å¯¦ä½œäº† AMQP 0-9-1ã€MQTT 3.1.1 å”è­°ã€‚ä¹Ÿå¯ä»¥å¯¦ä½œ AMQP 1.0ã€Kafkaã€NATS ç­‰ã€‚</li>
</ul>
</li>
</ul>
<h4 id="general-mq"><a class="header" href="#general-mq">general-mq</a></h4>
<p>Sylvia-IoT ä½¿ç”¨ <a href="https://crates.io/crates/general-mq"><strong>general-mq</strong></a> å¯¦ç¾ unicast å’Œ broadcastï¼Œä¸¦éš±è—äº†é€šè¨Šå”è­°çš„ç´°ç¯€ã€‚</p>
<p>åªè¦åœ¨ general-mq å¯¦ä½œ AMQP 1.0ã€Kafka ç­‰å”è­°çš„ unicast/broadcast æ¨¡å¼ï¼Œä¸¦åœ¨ coremgr å¯¦ä½œå°æ‡‰çš„ management APIï¼Œå³å¯è®“ Sylvia-IoT æ”¯æ´æ›´å¤šå”è­°ã€‚</p>
<h3 id="data-sylvia-iot-data"><a class="header" href="#data-sylvia-iot-data">Data (sylvia-iot-data)</a></h3>
<ul>
<li>ç”¨é€”
<ul>
<li>ç´€éŒ„æˆ–åˆ†æè³‡æ–™é€šé“ä¸­çš„è³‡æ–™ã€‚</li>
</ul>
</li>
</ul>
<p>é€™å€‹æ¨¡çµ„æ¯”è¼ƒç‰¹åˆ¥çš„åœ°æ–¹åœ¨æ–¼æ²’æœ‰ç‰¹å®šçš„å¯¦ä½œã€‚ç›®å‰ Sylvia-IoT Core çš„ <strong>sylvia-iot-data</strong> æä¾›äº†åŸå§‹è³‡æ–™çš„å„²å­˜å’Œè®€å–ã€‚</p>
<p>ä»¥ä¸‹åˆ—å‡ºå¯ä»¥å»¶ä¼¸çš„å ´æ™¯ï¼š</p>
<ul>
<li>è¦å‰‡å¼•æ“ï¼ˆrule engineï¼‰ã€‚
<ul>
<li>ç”±æ–¼è³‡æ–™é€šé“å«æœ‰æ‰€æœ‰ç¶²è·¯è³‡æ–™ï¼Œå¯ä»¥å°‡ Data æ¨¡çµ„å¯¦ä½œç‚ºä¸€èˆ¬ IoT å¹³å°å¸¸è¦‹çš„è¦å‰‡å¼•æ“ã€‚</li>
</ul>
</li>
<li>æµè™•ç†ï¼ˆstream processingï¼‰ã€‚
<ul>
<li>å¯ä»¥å°‡è³‡æ–™é€šé“å¯¦ä½œæˆ Kafka ä½‡åˆ—ï¼Œé€²è¡Œæµè™•ç†ã€‚</li>
</ul>
</li>
</ul>
<h2 id="è¨Šæ¯ä»£ç†æœå‹™-message-brokers"><a class="header" href="#è¨Šæ¯ä»£ç†æœå‹™-message-brokers">è¨Šæ¯ä»£ç†æœå‹™ (Message Brokers)</a></h2>
<blockquote>
<p>é€™è£¡çš„è¨Šæ¯ä»£ç†æŒ‡çš„æ˜¯ RabbitMQã€EMQX ç­‰æœå‹™ï¼Œä¸æ˜¯ Sylvia-IoT Brokerã€‚
é™¤éç‰¹åˆ¥å¼·èª¿ RabbitMQã€EMQX ç­‰ï¼Œæœ¬æ–‡ä»¶çš„ã€ŒBrokerã€æ³›æŒ‡ Sylvia-IoT Brokerã€‚</p>
</blockquote>
<p>å¹¾å€‹æ³¨æ„äº‹é …ï¼š</p>
<ul>
<li>ç”±æ–¼ coremgr éœ€è¦é€é management API è¨­å®šä½‡åˆ—ï¼Œå¿…é ˆæä¾›ç›¸é—œçš„å¯¦ä½œæ‰èƒ½æ”¯æ´ã€‚ç›®å‰ coremgr æ”¯æ´çš„è¨Šæ¯ä»£ç†æœå‹™å¦‚ä¸‹ï¼š
<ul>
<li>RabbitMQ</li>
<li>EMQX</li>
<li>æœªä¾†å¯ä»¥å¯¦ä½œ Kafka æˆ–å…¶ä»–å”è­°ï¼Œè®“ Sylvia-IoT çš„æ‡‰ç”¨å¯ä»¥æ›´å»£æ³›ã€‚</li>
</ul>
</li>
<li>Sylvia-IoT çš„éœ€æ±‚æœ‰ä»¥ä¸‹æ¨¡å¼ï¼š
<ul>
<li>Message queuingï¼Œå³å‚³çµ±çš„è¨Šæ¯æ¨¡å¼ï¼ˆä¸€å€‹è¨Šæ¯åªæœ‰ä¸€å€‹æ¶ˆè²»è€…ï¼‰ã€‚
<ul>
<li>MQTT é€é shared subscription å¯¦ä½œã€‚</li>
</ul>
</li>
<li>Publish/Subscribeï¼ˆæ¨æ’­ï¼è¨‚é–±ï¼‰ï¼Œç”¨ä½œæ§åˆ¶é€šé“ï¼ˆcontrol channelï¼‰çš„å»£æ’­è¨Šæ¯ã€‚åœ¨ <a href="./cache.html"><strong>å¿«å–</strong></a> çš„ç« ç¯€æœƒä»‹ç´¹ã€‚
<ul>
<li>AMQP é€é fanout exchage å’Œ temorary queue å¯¦ä½œã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="rumqttd"><a class="header" href="#rumqttd">rumqttd</a></h3>
<p>åœ¨ <a href="../guide/quick.html"><strong>å¿«é€Ÿé–‹å§‹</strong></a> ç« ç¯€ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨äº† <strong>sylvia-iot-core</strong> ä½œç‚ºç¯„ä¾‹ã€‚é€™å€‹å¯åŸ·è¡Œæª”æœ¬èº«åŒ…å«äº†å®Œæ•´çš„ Auth/Broker/Coremgr/Dataï¼Œä»¥åŠ rumqttdã€‚</p>
<p>ç‚ºäº†åœ¨å°å®¹é‡çš„ç’°å¢ƒä¹Ÿå¯ä»¥åŸ·è¡Œï¼Œ<strong>sylvia-iot-core</strong> å…§å«äº† <a href="https://github.com/bytebeamio/rumqtt"><strong>rumqttd</strong></a> MQTT brokerã€‚
åªè¦é…åˆè¨­å®šï¼Œå°±å¯ä»¥ç”¨ SQLite ä½œç‚ºè³‡æ–™åº«ï¼Œæ­é… MQTT å‚³éè¨Šæ¯ï¼Œä»¥å…©å€‹æª”æ¡ˆçš„è¦æ¨¡ï¼Œå¯¦ç¾å®Œæ•´çš„ Sylvia-IoT çš„åŠŸèƒ½ã€‚</p>
<blockquote>
<p>core æ˜¯é›†çµå®Œæ•´åŠŸèƒ½çš„å¯åŸ·è¡Œæª”ã€‚è€Œ coremgr åªæœ‰ç®¡ç†éƒ¨åˆ†ï¼Œä¸”ä¸å« rumqttdã€‚</p>
</blockquote>
<p>ç‚ºäº†å› æ‡‰é€™å€‹å—é™çš„ç’°å¢ƒï¼ŒSylvia-IoT æ‰æ¡ç”¨äº† rumqttdã€‚
Sylvia-IoT ç›®å‰æ²’æœ‰å¯¦ä½œ rumqttd management APIï¼Œè«‹å‹¿ä½¿ç”¨æ–¼å¢é›†æ¶æ§‹ï¼ˆclusterï¼‰ã€‚æœ‰ä½‡åˆ—æ¬Šé™éœ€æ±‚è€…ä¹Ÿä¸å»ºè­°ä½¿ç”¨é€™æ¨¡å¼ã€‚</p>
<h2 id="ç¬¬ä¸‰æ–¹å…ƒä»¶-3rd-party-components"><a class="header" href="#ç¬¬ä¸‰æ–¹å…ƒä»¶-3rd-party-components">ç¬¬ä¸‰æ–¹å…ƒä»¶ (3rd Party Components)</a></h2>
<h3 id="application-servers-network-servers"><a class="header" href="#application-servers-network-servers">Application Servers, Network Servers</a></h3>
<p>æ‡‰ç”¨å’Œç¶²è·¯é™¤äº†ä½¿ç”¨è³‡æ–™é€šé“çš„è¨Šæ¯æ”¶é€è£ç½®è³‡æ–™ï¼Œä¹Ÿå¯ä»¥é€éå®¢æˆ¶ç«¯å­˜å– Sylvia-IoT HTTP API å’Œæ§åˆ¶é€šé“çš„è¨Šæ¯ä¾†æ‰“é€ è‡ªå·±çš„ç®¡ç†ç³»çµ±ã€‚</p>
<h3 id="devices"><a class="header" href="#devices">Devices</a></h3>
<p>è£ç½®ä¸€èˆ¬éƒ½å’Œç¶²è·¯æ¨¡çµ„ç¶å®šï¼›è€Œ Sylvia-IoT çš„ã€Œè£ç½®ã€æ˜¯æŒ‡ç‹¹ç¾©çš„çµ‚ç«¯è£ç½®ï¼Œåªè™•ç†æ‡‰ç”¨æ‰€éœ€è¦çš„è³‡æ–™ã€‚è‡³æ–¼ç¶²è·¯æ¨¡çµ„çš„éƒ¨åˆ†æ˜¯å¯ä»¥æŠ½æ›çš„ã€‚</p>
<p>èˆ‰å€‹æŠ½æ›ç¶²è·¯æ¨¡çµ„çš„ä¾‹å­ï¼Œå‡å¦‚è£ç½®æ˜¯ä½¿ç”¨æ¨¹è“æ´¾é€£æ¥æ„Ÿæ‡‰å™¨é€²è¡Œç‰¹å®šçš„æ‡‰ç”¨é–‹ç™¼ï¼Œç¶²è·¯çš„éƒ¨åˆ†å¯ä»¥ç”¨ USB éš¨æ™‚è®Šæ›´æˆä¸åŒçš„å”è­°ï¼ˆLoRa æ›æˆ WiFiï¼Œç”šè‡³æ˜¯æ¥ç¶²è·¯ç·šï¼‰ã€‚
åœ¨ Sylvia-IoT åªéœ€è¦ä¿®æ”¹è£ç½®å°æ‡‰çš„ç¶²è·¯å’Œä½å€å³å¯ã€‚</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../arch/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../arch/flow.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../arch/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../arch/flow.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
